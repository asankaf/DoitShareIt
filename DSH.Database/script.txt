USE [DoitShareit]
GO
/****** Object:  Table [dbo].[VoteTypes]    Script Date: 02/01/2013 10:35:43 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
SET ANSI_PADDING ON
GO
CREATE TABLE [dbo].[VoteTypes](
	[Id] [int] IDENTITY(1,1) NOT NULL,
	[Name] [varchar](40) NULL,
 CONSTRAINT [PK__VoteType__3214EC077F60ED59] PRIMARY KEY CLUSTERED 
(
	[Id] ASC
)WITH (PAD_INDEX  = OFF, STATISTICS_NORECOMPUTE  = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS  = ON, ALLOW_PAGE_LOCKS  = ON) ON [PRIMARY]
) ON [PRIMARY]
GO
SET ANSI_PADDING OFF
GO
/****** Object:  Table [dbo].[Notifications]    Script Date: 02/01/2013 10:35:43 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
SET ANSI_PADDING ON
GO
CREATE TABLE [dbo].[Notifications](
	[Id] [int] IDENTITY(1,1) NOT NULL,
	[SenderId] [int] NULL,
	[RecipientId] [int] NULL,
	[Body] [varchar](500) NULL,
	[RelevantParentPostId] [int] NULL,
	[RelevantPostId] [int] NULL,
	[IsRead] [bit] NULL,
	[DateOfOrigin] [datetime] NULL,
 CONSTRAINT [PK_Notifications_1] PRIMARY KEY CLUSTERED 
(
	[Id] ASC
)WITH (PAD_INDEX  = OFF, STATISTICS_NORECOMPUTE  = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS  = ON, ALLOW_PAGE_LOCKS  = ON) ON [PRIMARY]
) ON [PRIMARY]
GO
SET ANSI_PADDING OFF
GO
/****** Object:  Table [dbo].[SuggestedEditVotes]    Script Date: 02/01/2013 10:35:43 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[SuggestedEditVotes](
	[Id] [int] IDENTITY(1,1) NOT NULL,
	[SuggestedEditId] [int] NULL,
	[UserId] [int] NULL,
	[VoteTypeId] [tinyint] NULL,
	[CreationDate] [datetime] NULL,
	[TargetUserId] [int] NULL,
	[TargetRepChange] [int] NULL,
 CONSTRAINT [PK_SuggestedEditVotes] PRIMARY KEY CLUSTERED 
(
	[Id] ASC
)WITH (PAD_INDEX  = OFF, STATISTICS_NORECOMPUTE  = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS  = ON, ALLOW_PAGE_LOCKS  = ON) ON [PRIMARY]
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[SuggestedEdits]    Script Date: 02/01/2013 10:35:43 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[SuggestedEdits](
	[Id] [int] IDENTITY(1,1) NOT NULL,
	[PostId] [int] NULL,
	[CreationDate] [datetime] NULL,
	[ApprovalDate] [datetime] NULL,
	[RejectionDate] [datetime] NULL,
	[OwnerUserId] [int] NULL,
	[Comment] [nvarchar](800) NULL,
	[Text] [nvarchar](max) NULL,
	[Title] [nvarchar](250) NULL,
	[Tags] [nvarchar](150) NULL,
	[RevisionGUID] [uniqueidentifier] NULL,
 CONSTRAINT [PK_SuggestedEdits] PRIMARY KEY CLUSTERED 
(
	[Id] ASC
)WITH (PAD_INDEX  = OFF, STATISTICS_NORECOMPUTE  = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS  = ON, ALLOW_PAGE_LOCKS  = ON) ON [PRIMARY]
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[PostTypes]    Script Date: 02/01/2013 10:35:43 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[PostTypes](
	[Id] [int] IDENTITY(1,1) NOT NULL,
	[Name] [nvarchar](50) NULL,
 CONSTRAINT [PK_PostTypes] PRIMARY KEY CLUSTERED 
(
	[Id] ASC
)WITH (PAD_INDEX  = OFF, STATISTICS_NORECOMPUTE  = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS  = ON, ALLOW_PAGE_LOCKS  = ON) ON [PRIMARY]
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[Users]    Script Date: 02/01/2013 10:35:43 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[Users](
	[Id] [int] IDENTITY(1,1) NOT NULL,
	[Reputation] [int] NULL,
	[CreationDate] [datetime] NULL,
	[DisplayName] [nvarchar](40) NULL,
	[LastAccessDate] [datetime] NULL,
	[PublicProfileUrl] [nvarchar](200) NULL,
	[PicLocation] [nvarchar](500) NULL,
	[UserUniqueid] [nvarchar](32) NULL,
	[Views] [int] NULL,
	[UpVotes] [int] NULL,
	[DownVotes] [int] NULL,
	[SessionKey] [uniqueidentifier] NULL,
 CONSTRAINT [PK_Users] PRIMARY KEY CLUSTERED 
(
	[Id] ASC
)WITH (PAD_INDEX  = OFF, STATISTICS_NORECOMPUTE  = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS  = ON, ALLOW_PAGE_LOCKS  = ON) ON [PRIMARY]
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[TagSynonyms]    Script Date: 02/01/2013 10:35:43 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[TagSynonyms](
	[Id] [int] IDENTITY(1,1) NOT NULL,
	[SourceTagName] [nvarchar](25) NULL,
	[TargetTagName] [nvarchar](25) NULL,
	[CreationDate] [datetime] NULL,
	[OwnerUserId] [int] NULL,
	[AutoRenameCount] [int] NULL,
	[LastAutoRename] [datetime] NULL,
	[Score] [int] NULL,
	[AprrovedByUserId] [int] NULL,
	[ApprovalDate] [datetime] NULL,
 CONSTRAINT [PK_TagSynonyms] PRIMARY KEY CLUSTERED 
(
	[Id] ASC
)WITH (PAD_INDEX  = OFF, STATISTICS_NORECOMPUTE  = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS  = ON, ALLOW_PAGE_LOCKS  = ON) ON [PRIMARY]
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[PostHistoryTypes]    Script Date: 02/01/2013 10:35:43 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[PostHistoryTypes](
	[Id] [tinyint] IDENTITY(1,1) NOT NULL,
	[Name] [nvarchar](50) NULL,
 CONSTRAINT [PK_PostHistoryTypes] PRIMARY KEY CLUSTERED 
(
	[Id] ASC
)WITH (PAD_INDEX  = OFF, STATISTICS_NORECOMPUTE  = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS  = ON, ALLOW_PAGE_LOCKS  = ON) ON [PRIMARY]
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[Posts]    Script Date: 02/01/2013 10:35:43 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[Posts](
	[Id] [int] IDENTITY(1,1) NOT NULL,
	[PostTypeId] [int] NULL,
	[CreationDate] [datetime] NULL,
	[Score] [int] NULL,
	[ViewCount] [int] NULL,
	[Body] [nvarchar](max) NULL,
	[OwnerUserId] [int] NULL,
	[OwnerDisplayName] [nvarchar](40) NULL,
	[LastEditorUserId] [int] NULL,
	[LastEditorDisplayName] [nvarchar](40) NULL,
	[LastEditDate] [datetime] NULL,
	[LastActivityDate] [datetime] NULL,
	[Title] [nvarchar](250) NULL,
	[Tags] [nvarchar](150) NULL,
	[CommentCount] [int] NULL,
	[FavoriteCount] [int] NULL,
	[ClosedDate] [datetime] NULL,
	[ParentId] [int] NULL,
	[CommunityOwnedDate] [datetime] NULL,
	[IsAnonymous] [bit] NULL,
	[TaggedUserId] [int] NULL,
 CONSTRAINT [PK_Posts] PRIMARY KEY CLUSTERED 
(
	[Id] ASC
)WITH (PAD_INDEX  = OFF, STATISTICS_NORECOMPUTE  = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS  = ON, ALLOW_PAGE_LOCKS  = ON) ON [PRIMARY]
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[Badges]    Script Date: 02/01/2013 10:35:43 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[Badges](
	[Id] [int] IDENTITY(1,1) NOT NULL,
	[UserId] [int] NULL,
	[Name] [nvarchar](50) NULL,
	[CreationDate] [datetime] NULL,
 CONSTRAINT [PK_Badges] PRIMARY KEY CLUSTERED 
(
	[Id] ASC
)WITH (PAD_INDEX  = OFF, STATISTICS_NORECOMPUTE  = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS  = ON, ALLOW_PAGE_LOCKS  = ON) ON [PRIMARY]
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[Votes]    Script Date: 02/01/2013 10:35:43 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[Votes](
	[Id] [int] IDENTITY(1,1) NOT NULL,
	[PostId] [int] NULL,
	[VoteTypeId] [int] NULL,
	[CreationDate] [datetime] NULL,
	[BountyAmount] [int] NULL,
	[VoterId] [int] NULL,
 CONSTRAINT [PK_Votes] PRIMARY KEY CLUSTERED 
(
	[Id] ASC
)WITH (PAD_INDEX  = OFF, STATISTICS_NORECOMPUTE  = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS  = ON, ALLOW_PAGE_LOCKS  = ON) ON [PRIMARY]
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[Tags]    Script Date: 02/01/2013 10:35:43 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
SET ANSI_PADDING ON
GO
CREATE TABLE [dbo].[Tags](
	[Id] [int] IDENTITY(1,1) NOT NULL,
	[TagName] [varchar](255) NULL,
	[Count] [int] NULL,
	[ExcerptPostId] [int] NULL,
	[WikiPostId] [int] NULL,
PRIMARY KEY CLUSTERED 
(
	[Id] ASC
)WITH (PAD_INDEX  = OFF, STATISTICS_NORECOMPUTE  = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS  = ON, ALLOW_PAGE_LOCKS  = ON) ON [PRIMARY]
) ON [PRIMARY]
GO
SET ANSI_PADDING OFF
GO
/****** Object:  Table [dbo].[PostTags]    Script Date: 02/01/2013 10:35:43 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[PostTags](
	[PostId] [int] NULL,
	[TagId] [int] NULL
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[PostHistory]    Script Date: 02/01/2013 10:35:43 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[PostHistory](
	[Id] [int] IDENTITY(1,1) NOT NULL,
	[PostHistoryTypeId] [tinyint] NULL,
	[Postid] [int] NULL,
	[RevisionGUID] [uniqueidentifier] NULL,
	[CreationDate] [datetime] NULL,
	[UserId] [int] NULL,
	[UserDisplayName] [nvarchar](40) NULL,
	[Comment] [nvarchar](40) NULL,
	[Text] [nvarchar](max) NULL,
 CONSTRAINT [PK_PostHistory] PRIMARY KEY CLUSTERED 
(
	[Id] ASC
)WITH (PAD_INDEX  = OFF, STATISTICS_NORECOMPUTE  = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS  = ON, ALLOW_PAGE_LOCKS  = ON) ON [PRIMARY]
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[PostFeedback]    Script Date: 02/01/2013 10:35:43 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[PostFeedback](
	[Id] [int] IDENTITY(1,1) NOT NULL,
	[PostId] [int] NULL,
	[IsAnonymous] [bit] NULL,
	[VoteTypeId] [int] NULL,
	[CreationDate] [datetime] NULL,
 CONSTRAINT [PK_PostFeedback] PRIMARY KEY CLUSTERED 
(
	[Id] ASC
)WITH (PAD_INDEX  = OFF, STATISTICS_NORECOMPUTE  = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS  = ON, ALLOW_PAGE_LOCKS  = ON) ON [PRIMARY]
) ON [PRIMARY]
GO
/****** Object:  ForeignKey [FK_Badges_Users]    Script Date: 02/01/2013 10:35:43 ******/
ALTER TABLE [dbo].[Badges]  WITH CHECK ADD  CONSTRAINT [FK_Badges_Users] FOREIGN KEY([Id])
REFERENCES [dbo].[Users] ([Id])
GO
ALTER TABLE [dbo].[Badges] CHECK CONSTRAINT [FK_Badges_Users]
GO
/****** Object:  ForeignKey [FK_PostFeedback_Posts]    Script Date: 02/01/2013 10:35:43 ******/
ALTER TABLE [dbo].[PostFeedback]  WITH CHECK ADD  CONSTRAINT [FK_PostFeedback_Posts] FOREIGN KEY([PostId])
REFERENCES [dbo].[Posts] ([Id])
GO
ALTER TABLE [dbo].[PostFeedback] CHECK CONSTRAINT [FK_PostFeedback_Posts]
GO
/****** Object:  ForeignKey [FK_PostFeedback_VoteTypes]    Script Date: 02/01/2013 10:35:43 ******/
ALTER TABLE [dbo].[PostFeedback]  WITH CHECK ADD  CONSTRAINT [FK_PostFeedback_VoteTypes] FOREIGN KEY([VoteTypeId])
REFERENCES [dbo].[VoteTypes] ([Id])
GO
ALTER TABLE [dbo].[PostFeedback] CHECK CONSTRAINT [FK_PostFeedback_VoteTypes]
GO
/****** Object:  ForeignKey [FK_PostHistory_PostHistoryTypes]    Script Date: 02/01/2013 10:35:43 ******/
ALTER TABLE [dbo].[PostHistory]  WITH CHECK ADD  CONSTRAINT [FK_PostHistory_PostHistoryTypes] FOREIGN KEY([PostHistoryTypeId])
REFERENCES [dbo].[PostHistoryTypes] ([Id])
GO
ALTER TABLE [dbo].[PostHistory] CHECK CONSTRAINT [FK_PostHistory_PostHistoryTypes]
GO
/****** Object:  ForeignKey [FK_PostHistory_Posts]    Script Date: 02/01/2013 10:35:43 ******/
ALTER TABLE [dbo].[PostHistory]  WITH CHECK ADD  CONSTRAINT [FK_PostHistory_Posts] FOREIGN KEY([Postid])
REFERENCES [dbo].[Posts] ([Id])
GO
ALTER TABLE [dbo].[PostHistory] CHECK CONSTRAINT [FK_PostHistory_Posts]
GO
/****** Object:  ForeignKey [FK_PostHistory_Users]    Script Date: 02/01/2013 10:35:43 ******/
ALTER TABLE [dbo].[PostHistory]  WITH CHECK ADD  CONSTRAINT [FK_PostHistory_Users] FOREIGN KEY([UserId])
REFERENCES [dbo].[Users] ([Id])
GO
ALTER TABLE [dbo].[PostHistory] CHECK CONSTRAINT [FK_PostHistory_Users]
GO
/****** Object:  ForeignKey [FK_Posts_LastEditorUsers]    Script Date: 02/01/2013 10:35:43 ******/
ALTER TABLE [dbo].[Posts]  WITH CHECK ADD  CONSTRAINT [FK_Posts_LastEditorUsers] FOREIGN KEY([LastEditorUserId])
REFERENCES [dbo].[Users] ([Id])
GO
ALTER TABLE [dbo].[Posts] CHECK CONSTRAINT [FK_Posts_LastEditorUsers]
GO
/****** Object:  ForeignKey [FK_Posts_PostTypes]    Script Date: 02/01/2013 10:35:43 ******/
ALTER TABLE [dbo].[Posts]  WITH CHECK ADD  CONSTRAINT [FK_Posts_PostTypes] FOREIGN KEY([PostTypeId])
REFERENCES [dbo].[PostTypes] ([Id])
GO
ALTER TABLE [dbo].[Posts] CHECK CONSTRAINT [FK_Posts_PostTypes]
GO
/****** Object:  ForeignKey [FK_Posts_Users]    Script Date: 02/01/2013 10:35:43 ******/
ALTER TABLE [dbo].[Posts]  WITH CHECK ADD  CONSTRAINT [FK_Posts_Users] FOREIGN KEY([OwnerUserId])
REFERENCES [dbo].[Users] ([Id])
GO
ALTER TABLE [dbo].[Posts] CHECK CONSTRAINT [FK_Posts_Users]
GO
/****** Object:  ForeignKey [FK_PostTags_Posts]    Script Date: 02/01/2013 10:35:43 ******/
ALTER TABLE [dbo].[PostTags]  WITH CHECK ADD  CONSTRAINT [FK_PostTags_Posts] FOREIGN KEY([PostId])
REFERENCES [dbo].[Posts] ([Id])
GO
ALTER TABLE [dbo].[PostTags] CHECK CONSTRAINT [FK_PostTags_Posts]
GO
/****** Object:  ForeignKey [FK_Tags_Posts]    Script Date: 02/01/2013 10:35:43 ******/
ALTER TABLE [dbo].[Tags]  WITH CHECK ADD  CONSTRAINT [FK_Tags_Posts] FOREIGN KEY([Id])
REFERENCES [dbo].[Posts] ([Id])
GO
ALTER TABLE [dbo].[Tags] CHECK CONSTRAINT [FK_Tags_Posts]
GO
/****** Object:  ForeignKey [FK_Votes_Posts]    Script Date: 02/01/2013 10:35:43 ******/
ALTER TABLE [dbo].[Votes]  WITH CHECK ADD  CONSTRAINT [FK_Votes_Posts] FOREIGN KEY([PostId])
REFERENCES [dbo].[Posts] ([Id])
GO
ALTER TABLE [dbo].[Votes] CHECK CONSTRAINT [FK_Votes_Posts]
GO
/****** Object:  ForeignKey [FK_Votes_Users]    Script Date: 02/01/2013 10:35:43 ******/
ALTER TABLE [dbo].[Votes]  WITH CHECK ADD  CONSTRAINT [FK_Votes_Users] FOREIGN KEY([VoterId])
REFERENCES [dbo].[Users] ([Id])
GO
ALTER TABLE [dbo].[Votes] CHECK CONSTRAINT [FK_Votes_Users]
GO
/****** Object:  ForeignKey [FK_Votes_VoteTypes]    Script Date: 02/01/2013 10:35:43 ******/
ALTER TABLE [dbo].[Votes]  WITH CHECK ADD  CONSTRAINT [FK_Votes_VoteTypes] FOREIGN KEY([VoteTypeId])
REFERENCES [dbo].[VoteTypes] ([Id])
GO
ALTER TABLE [dbo].[Votes] CHECK CONSTRAINT [FK_Votes_VoteTypes]
GO
